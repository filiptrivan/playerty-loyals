<ng-container *transloco="let t">
    @if (showEmailSentDialog == false) {
        <auth (onCompanyNameChange)="companyNameChange($event)">
            <form [formGroup]="formGroup" style="margin-bottom: 16px;"> <!-- FT: We are not loading anything from the server here so we don't need defer block -->
                <div class="col-12" style="padding: 0;">
                    <soft-textbox textbox [control]="control('email')"></soft-textbox>
                </div>
                <div class="col-12" style="padding-left: 0; padding-right: 0;">
                    <soft-password [control]="control('password')"></soft-password>
                </div>
                
                <div class="flex align-items-center justify-content-between mb-4 gap-5" style="margin-bottom: 16px;">
                    <a class="link no-underline" routerLink="/auth/forgot-password">{{t('ForgotPassword')}}</a>
                </div>
                
                <div style="display: flex; flex-direction: column; gap: 16px;">
                    <p-button [label]="t('Login')" (onClick)="sendLoginVerificationEmail()" [outlined]="true" [style]="{width: '100%'}"></p-button>
                    <p-button *ngIf="usersCanRegister" [label]="t('NewToLoyaltyJoinNow', {companyName: companyName})" routerLink="/auth/registration" [style]="{width: '100%'}"></p-button>
                </div>
            </form>
        </auth>
    }
    @else {
        <login-verification [email]="model.email" [password]="model.password"></login-verification>
    }
</ng-container>